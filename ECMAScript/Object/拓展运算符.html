<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // [...]扩展运算符
        // 取到枚举性的、非继承自原型的属性，复制到当前对象中
        // 若有相同属性名，后者会覆盖前者
        const obj1_ = {
            a: 1,
        }
        const obj1 = {
            a: 0,
            b: 2,
            ...obj1_
        }
        // console.log(obj1);//{a: 1,b: 2}

        // 合并多个对象到一个新的对象，如Object.assign一样
        const obj2_1 = Object.defineProperties({}, {
            'a': {
                value: 1,
                writable: true,
                enumerable: true,
                configurable: true
            },
            'b': {
                value: 2,
                writable: true,
                enumerable: true,
                configurable: true
            },
            'c': {
                value: 3,
                writable: true,
                enumerable: false,
                configurable: true
            },
        });
        const obj2_2 = {
            a: 666,
            b: 4,
            f: 5,
        }
        const obj2 = {
            ...obj2_1,
            ...obj2_2,
        };
        // console.log(obj2);// {a: 666, b: 4, f: 5}

        // 如果扩展运算符的参数是null或undefined或空对象，会被忽略，不会报错，没有任何效果。 
        const obj3 = {
            a: 1,
            ...null,
            ...undefined,
            ...{}
        }
        // console.log(obj3);// {a: 1}

        //对象的扩展运算符后面可以跟表达式
        const flag = false;
        const obj4 = {
            ...(flag ? { a: 1 } : { b: 2 }),
        }
        // console.log(obj4);// {b: 2}

        // 如果有取值函数get，这个函数是会执行的
        const obj5 = {
            ...{
                get a(){
                    return 1
                }
            }
        }
        console.log(obj5);// {a: 1}
    </script>
</body>

</html>