<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
</head>

<body>
	<div></div>
	<div></div>
	<script type="text/javascript">
		// JavaScript有四种“集合”的数据结构，主要是数组（Array）、对象（Object）、Map、Set
		// 遍历器（Iterator）是一种接口，目的就是为所有数据结构，提供了一种统一的访问机制，即for...of循环
		// 遍历器对象本质上，就是一个指针对象
		// 一种数据结构只要部署了Iterator接口，即具有Symbol.iterator属性，我们就称这种数据结构是“可遍历的”（iterable）
		// 原生具备Iterator接口的数据结构如下：
		// Array、Map、Set、String、TypedArray、函数的 arguments对象、NodeList对象
		// 对于原生部署Iterator接口的数据结构，不用自己写遍历器生成函数，for...of循环会自动遍历它们。
		// 除此之外，其他数据结构（主要是对象）的Iterator 接口，需要在Symbol.iterator属性上面手动部署，这样才会被for...of循环遍历
		// 本质上，遍历器是一种线性处理，只能处理线性结构的数据（如数组），对于任何非线性结构的数据，部署遍历器接口，就等于部署一种线性转换

		const obj = {};
		const arr = [1, 2, 3];
		const str = 'asd';
		const set = new Set(str);
		const divs = document.querySelectorAll('div');

		// Symbol.iterator属性本身是一个函数，执行这个函数，就会返回一个遍历器(iterator)对象
		const arr_iter = arr[Symbol.iterator]();
		const str_iter = str[Symbol.iterator]();
		const set_iter = set[Symbol.iterator]();
		const divs_iter = divs[Symbol.iterator]();

		// console.log(arr_iter);
		// console.log(str_iter);
		// console.log(set_iter);
		// console.log(divs_iter);

		// [next]
		// iterator对象下有一个next()方法，用来移动指针，每次调用next方法，指针就会指向数组的下一个成员
		// next方法返回一个对象，表示当前数据成员的信息:{value:1,done:false}
		// value属性表示当前位置成员的值，done属性是一个布尔值，表示遍历是否结束，即是否还有必要再一次调用next方法
		// 一个遍历器只能遍历一遍，
		// console.log(arr_iter.next());// {value: 1, done: false}
		// console.log(arr_iter.next());// {value: 2, done: false}
		// console.log(arr_iter.next());// {value: 3, done: false}
		// console.log(arr_iter.next());// {undefined: 3, done: true}// 遍历已结束

		// 拓展运算符[...]和解构赋值其实是对数据遍历器进行遍历
        // 所以任何部署了Iterator接口的数据结构都可以使用拓展运算符[...]和解构赋值，并由此转变成数组结构
        const str1 = 'abc';
        const set1 = new Set('abc');
        const divs1 = document.querySelectorAll('div');
        const str1_to_arr =[...str];
        const set1_to_arr =[...set];
        const divs1_to_arr =[...divs];
        // console.log(str1_to_arr);
        // console.log(set1_to_arr);
        // console.log(divs1_to_arr);

	</script>
</body>

</html>